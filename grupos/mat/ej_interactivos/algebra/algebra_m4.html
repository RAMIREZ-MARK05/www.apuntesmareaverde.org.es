<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title id="titulo">Álgebra</title>
<link rel="stylesheet" href="https://apuntesmareaverde.org.es/com/estilo.css" type="text/css">
<style type="text/css">
hr{background-color: black;
height: 3px;
margin-top: 1px;
margin-bottom: 1px;}
td{text-align: right;}
tr{text-align: center;width: 50px;}
input{text-align: center;}
.oculto{display: none;}
.visible{display: block;}
.ejercicio{font-size: 200%;}
.bien{
color: green;
font-weight: bolder; 
text-align: left; }
.mal{color: red;
font-weight: bolder; 
text-align: left; }
</style>
<script type='text/javascript'>
var modelo = 4;
var puntos = 0;
var intentos = 0;
var x  ;
var a = [];// array para coeficientes
var tipo ;
var ecuacion = '';
var ok= true;
var tiempoEjercicio = 5; //tiempo del ejercicio en minutos
var tiempo;
var horaInicio = Date.now();
var colorVida= '#ffff00';

function dato(menor,mayor,decimales) {// funcion para conseguir datos aleatorios
var d = Math.round((Math.random()*(mayor-menor)+menor)*Math.pow(10,decimales))/Math.pow(10,decimales);
return d;	}

function inicio() {
document.getElementById('titulo').innerHTML='algebra m'+modelo;
document.getElementById('modelo').innerHTML='Modelo ' + modelo;
setInterval( 'vida()', 100*tiempoEjercicio);
nuevaEcuacion();	}

function comprobar() {
intentos=intentos+1;
valorAlumno = document.getElementById('x').value;
if (x == valorAlumno) {
if (ok) {document.getElementById('ok').innerHTML='Lo has hecho bien. Pincha en nueva ecuación.';
document.getElementById('ok').setAttribute('class','bien');
puntos= puntos+1;
document.getElementById('puntos').innerHTML= 'Llevas '+puntos+' punto de '+intentos;
ok=false;
document.getElementById('nuevaEcuacion').setAttribute('class','visible');
document.getElementById('comprobar').setAttribute('class','oculto');}
else {
document.getElementById('ok').innerHTML='Tienes que pinchar en nueva ecuación';}}
else {document.getElementById('ok').innerHTML='Lo has hecho mal. Inténtalo de nuevo';
document.getElementById('ok').setAttribute('class','mal');
document.getElementById('puntos').innerHTML= 'Llevas '+puntos+' punto de '+intentos;}}
var tipo =8;
function nuevaEcuacion() {
x= dato(2,9,0);
var primerMiembro='';
var segundoMiembro='=';
for (i=0;i<5;i++){// coeficientes aleatorios
a[i]= dato(2,9,0);
while (a[i]==0){
a[i] = dato(0,9,0);}}
tipo = dato(0,3,0);
switch(tipo) {
case 0:
b = a[0]+x*a[1] -a[2]*x;
ecuacion= b +'+'+a[2]+'x=' +a[0]+'+'+a[1]+'x';//b+a2X=a0+a1x
break;
case 1:
b = a[0]-x*a[1] -a[2]*x;
ecuacion= b +'+'+a[2]+'x=' +a[0]+'-'+a[1]+'x';//b+a2x=a0-a1x
break;  
case 2:
b = a[0]-x*a[1] +a[2]*x;
ecuacion= b +'-'+a[2]+'x=' +a[0]+'-'+a[1]+'x';//b-a2x=a0-a1x
break; 
case 3:
b = a[0]+x*a[1] +a[2]*x;
ecuacion= b +'-'+a[2]+'x=' +a[0]+'+'+a[1]+'x';//b-a2x=a0+a1x
break;         }
   document.getElementById('nuevaEcuacion').setAttribute('class','oculto');
document.getElementById('comprobar').setAttribute('class','visible');
document.getElementById('ok').innerHTML=''
document.getElementById('expresion').innerHTML=ecuacion;		
document.getElementById('x').value='';
ok=true;}
var varVida = 0;
function vida() {
var canvas = document.getElementById('canvas');
var contexto=canvas.getContext('2d');
contexto.fillStyle = colorVida;
contexto.fillRect(0, 0, 800, 10);
contexto.clearRect(600, 0, varVida, 10);
varVida = varVida - 1;
if (varVida < -600) {//cuando termina el tiempo del ejercicio
document.getElementById('nuevaEcuacion').setAttribute('class','oculto');
document.getElementById('ok').setAttribute('class','oculto');
document.getElementById('puntos').setAttribute('class','bien');
document.getElementById('puntos').innerHTML= 'Se ha terminado el tiempo del ejercicio. Has conseguido '+puntos+' punto de '+intentos+ ' intentos';	}}
</script>
</head>
<body onload="inicio()">
<h1 >Ejercicios de algebra.</h1>
<h2 id="modelo" >modelo</h2>
<p>Encuentra el valor de x que hace que se cumpla la igualdad.</p>
<p> Tienes que trabajar con lápiz y papel e introducir el valor en la casilla para comprobar si lo has hecho bien.</p>
<br>
<table><tr id="expresion" class="ejercicio"  ></tr></table>
<p >x=<input type="text" size="1"  id="x"></p> 
<p><input id="comprobar"  value="comprobar" type="submit" onclick="comprobar()"> 
<input id="nuevaEcuacion"  value="nueva Ecuación" type="submit" class="oculto" onclick="nuevaEcuacion()"> </p>
<p width="50px" id="ok"></p>
<p id="puntos"></p>
<div><canvas id="canvas" width="600" height="20"></canvas>   </div>
<footer>
<hr>
<p>Autor: Santiago Camblor</p>
<p>Todos nuestros materiales tienen licencia creative commons que permite el uso y modificación del material siempre que no sea con fines comerciales, se cite la autoría y se mantenga el mismo tipo de licencia en las modificaciones de la obra.</p>
<table  width="50%" align="center">
<tr>
<td><img src="http://apuntesmareaverde.org.es/com/Marea_Verde2.png" alt=""></td>
<td><img src="http://apuntesmareaverde.org.es/com/cc.png" alt="" ></td>
</tr>
</table>
</footer>
</body>
</html>